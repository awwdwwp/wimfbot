from telegram import Update, InlineKeyboardButton, InlineKeyboardMarkup
from telegram.ext import Application, CommandHandler, CallbackQueryHandler, ContextTypes
from telegram import ReplyKeyboardMarkup
import os
from dotenv import load_dotenv

load_dotenv()  # This loads .env variables

TOKEN = os.getenv("TOKEN")  # Use token from .env
# Predefined texts
region_texts = {
    "north": """â€“ĞŸÑ–Ğ²Ğ½Ñ–Ñ‡Ğ½Ğ° ĞĞ¼ĞµÑ€Ğ¸ĞºĞ°â€“

â€¢ ğŸ‡¨ğŸ‡¦ĞšĞ°Ğ½Ğ°Ğ´Ğ° - ğŸ‡¬ğŸ‡±ÒÑ€ĞµĞ½Ğ»Ğ°Ğ½Ğ´Ñ–Ñ

â€¢ ğŸ‡ºğŸ‡¸Ğ¡Ğ¨Ğ - ğŸ‡¦ğŸ‡¸ĞĞ¼ĞµÑ€Ğ¸ĞºĞ°Ğ½ÑÑŒĞºĞµ Ğ¡Ğ°Ğ¼Ğ¾Ğ° - ğŸ‡µğŸ‡·ĞŸÑƒĞµÑ€Ñ‚Ğ¾-Ğ Ğ¸ĞºĞ¾

â€¢ ğŸ‡ºğŸ‡¸Ğ¡Ğ¨Ğ - ğŸ‡§ğŸ‡¸Ğ‘Ğ°Ğ³Ğ°Ğ¼ÑÑŒĞºÑ– Ğ¾ÑÑ‚Ñ€Ğ¾Ğ²Ğ¸

â€¢ ğŸ‡²ğŸ‡½ĞœĞµĞºÑĞ¸ĞºĞ° - ğŸ‡¨ğŸ‡·ĞšĞ¾ÑÑ‚Ğ°-Ğ Ğ¸ĞºĞ° 

â€¢ ğŸ‡­ğŸ‡¹Ğ“Ğ°Ñ—Ñ‚Ñ– - ğŸ‡©ğŸ‡´Ğ”Ğ¾Ğ¼Ñ–Ğ½Ñ–ĞºĞ°Ğ½ÑÑŒĞºĞ° Ğ ĞµÑĞ¿ÑƒĞ±Ğ»Ñ–ĞºĞ°""",

    "south": """â€“ĞŸÑ–Ğ²Ğ´ĞµĞ½Ğ½Ğ° ĞĞ¼ĞµÑ€Ğ¸ĞºĞ°â€“

â€¢ ğŸ‡»ğŸ‡ªĞ’ĞµĞ½ĞµÑÑƒĞµĞ»Ğ° - ğŸ‡¨ğŸ‡´ĞšĞ¾Ğ»ÑƒĞ¼Ğ±Ñ–Ñ

â€¢ ğŸ‡µğŸ‡ªĞŸĞµÑ€Ñƒ - ğŸ‡§ğŸ‡´Ğ‘Ğ¾Ğ»Ñ–Ğ²Ñ–Ñ 

â€¢ ğŸ‡§ğŸ‡·Ğ‘Ñ€Ğ°Ğ·Ğ¸Ğ»Ñ–Ñ - ğŸ‡ºğŸ‡¾Ğ£Ñ€ÑƒĞ³Ğ²Ğ°Ğ¹
  ğŸ‡§ğŸ‡·Ğ‘Ñ€Ğ°Ğ·Ğ¸Ğ»Ñ–Ñ - ğŸ‡µğŸ‡¹ĞŸĞ¾Ñ€Ñ‚ÑƒĞ³Ğ°Ğ»Ñ–Ñ

â€¢ ğŸ‡¨ğŸ‡±Ğ§Ğ¸Ğ»Ñ– - ğŸ‡¦ğŸ‡·ĞÑ€Ğ³ĞµĞ½Ñ‚Ğ¸Ğ½Ğ°""",

    "asia": """â€“ĞĞ·Ñ–Ñâ€“

â€¢ ğŸ‡¹ğŸ‡·Ğ¢ÑƒÑ€ĞµÑ‡Ñ‡Ğ¸Ğ½Ğ° - ğŸ‡¦ğŸ‡¿ĞĞ·ĞµÑ€Ğ±Ğ°Ğ¹Ğ´Ğ¶Ğ°Ğ½

â€¢ ğŸ‡µğŸ‡¸ĞŸĞ°Ğ»ĞµÑÑ‚Ğ¸Ğ½Ğ° - ğŸ‡¯ğŸ‡´Ğ™Ğ¾Ñ€Ğ´Ğ°Ğ½Ñ–Ñ 

â€¢ ğŸ‡°ğŸ‡¼ĞšÑƒĞ²ĞµĞ¹Ñ‚ - ğŸ‡§ğŸ‡­Ğ‘Ğ°Ñ…Ñ€ĞµĞ¹Ğ½ - ğŸ‡¶ğŸ‡¦ĞšĞ°Ñ‚Ğ°Ñ€

â€¢ ğŸ‡¨ğŸ‡³ĞšĞ¸Ñ‚Ğ°Ğ¹ - ğŸ‡­ğŸ‡°Ğ“Ğ¾Ğ½ĞºĞ¾Ğ½Ğ³ - ğŸ‡¹ğŸ‡¼Ğ¢Ğ°Ğ¹Ğ²Ğ°Ğ½ÑŒ

â€¢ ğŸ‡®ğŸ‡³Ğ†Ğ½Ğ´Ñ–Ñ - ğŸ‡³ğŸ‡µĞĞµĞ¿Ğ°Ğ»
  ğŸ‡®ğŸ‡³Ğ†Ğ½Ğ´Ñ–Ñ - ğŸ‡²ğŸ‡»ĞœĞ°Ğ»ÑŒĞ´Ñ–Ğ²Ğ¸ 
  ğŸ‡®ğŸ‡³Ğ†Ğ½Ğ´Ñ–Ñ - ğŸ‡§ğŸ‡¹Ğ‘ÑƒÑ‚Ğ°Ğ½ 

â€¢ ğŸ‡µğŸ‡°ĞŸĞ°ĞºĞ¸ÑÑ‚Ğ°Ğ½ - ğŸ‡§ğŸ‡©Ğ‘Ğ°Ğ½Ğ³Ğ»Ğ°Ğ´ĞµÑˆ

â€¢ ğŸ‡²ğŸ‡²Ğœ'ÑĞ½Ğ¼Ğ° - ğŸ‡¹ğŸ‡­Ğ¢Ğ°Ñ—Ğ»Ğ°Ğ½Ğ´ - ğŸ‡°ğŸ‡­ĞšĞ°Ğ¼Ğ±Ğ¾Ğ´Ğ¶Ğ° - ğŸ‡±ğŸ‡¦Ğ›Ğ°Ğ¾Ñ - ğŸ‡»ğŸ‡³Ğ’'Ñ”Ñ‚Ğ½Ğ°Ğ¼

â€¢ ğŸ‡²ğŸ‡¾ĞœĞ°Ğ»Ğ°Ğ¹Ğ·Ñ–Ñ - ğŸ‡®ğŸ‡©Ğ†Ğ½Ğ´Ğ¾Ğ½ĞµĞ·Ñ–Ñ

â€¢ ğŸ‡¯ğŸ‡µĞ¯Ğ¿Ğ¾Ğ½Ñ–Ñ - ğŸ‡¹ğŸ‡±Ğ¡Ñ…Ñ–Ğ´Ğ½Ğ¸Ğ¹ Ğ¢Ğ¸Ğ¼Ğ¾Ñ€ 

â€¢ ğŸ‡°ğŸ‡·ĞŸÑ–Ğ²Ğ´ĞµĞ½Ğ½Ğ° ĞšĞ¾Ñ€ĞµÑ - ğŸ‡¸ğŸ‡¬Ğ¡Ñ–Ğ½Ğ³Ğ°Ğ¿ÑƒÑ€ - ğŸ‡§ğŸ‡³Ğ‘Ñ€ÑƒĞ½ĞµĞ¹""",

    "europe": """â€“Ğ„Ğ²Ñ€Ğ¾Ğ¿Ğ°â€“

â€¢ ğŸ‡¬ğŸ‡§Ğ’ĞµĞ»Ğ¸ĞºĞ° Ğ‘Ñ€Ğ¸Ñ‚Ğ°Ğ½Ñ–Ñ - ğŸ‡®ğŸ‡ªĞ†Ñ€Ğ»Ğ°Ğ½Ğ´Ñ–Ñ
  ğŸ‡¬ğŸ‡§Ğ’ĞµĞ»Ğ¸ĞºĞ° Ğ‘Ñ€Ğ¸Ñ‚Ğ°Ğ½Ñ–Ñ - ğŸ‡¬ğŸ‡¬Ğ“ĞµÑ€Ğ½ÑÑ–
  ğŸ‡¬ğŸ‡§Ğ’ĞµĞ»Ğ¸ĞºĞ° Ğ‘Ñ€Ğ¸Ñ‚Ğ°Ğ½Ñ–Ñ - ğŸ‡¬ğŸ‡®Ğ“Ñ–Ğ±Ñ€Ğ°Ğ»Ñ‚Ğ°Ñ€
  ğŸ‡¬ğŸ‡§Ğ’ĞµĞ»Ğ¸ĞºĞ° Ğ‘Ñ€Ğ¸Ñ‚Ğ°Ğ½Ñ–Ñ - ğŸ‡²ğŸ‡¹ ĞœĞ°Ğ»ÑŒÑ‚Ğ°

â€¢ ğŸ‡ªğŸ‡¸Ğ†ÑĞ¿Ğ°Ğ½Ñ–Ñ - ğŸ‡¦ğŸ‡©ĞĞ½Ğ´Ğ¾Ñ€Ñ€Ğ°
  ğŸ‡ªğŸ‡¸Ğ†ÑĞ¿Ğ°Ğ½Ñ–Ñ - ğŸ‡®ğŸ‡¨ĞšĞ°Ğ½Ğ°Ñ€ÑÑŒĞºÑ– Ğ¾ÑÑ‚Ñ€Ğ¾Ğ²Ğ¸

â€¢ ğŸ‡«ğŸ‡·Ğ¤Ñ€Ğ°Ğ½Ñ†Ñ–Ñ - ğŸ‡²ğŸ‡¨ĞœĞ¾Ğ½Ğ°ĞºĞ¾
  ğŸ‡«ğŸ‡·Ğ¤Ñ€Ğ°Ğ½Ñ†Ñ–Ñ - ğŸ‡±ğŸ‡ºĞ›ÑĞºÑĞµĞ¼Ğ±ÑƒÑ€Ğ³

â€¢ ğŸ‡³ğŸ‡±ĞÑ–Ğ´ĞµÑ€Ğ»Ğ°Ğ½Ğ´Ğ¸ - ğŸ‡§ğŸ‡ªĞ‘ĞµĞ»ÑŒĞ³Ñ–Ñ - ğŸ‡±ğŸ‡º Ğ›ÑĞºÑĞµĞ¼Ğ±ÑƒÑ€Ğ³

â€¢ ğŸ‡¬ğŸ‡±ÒÑ€ĞµĞ½Ğ»Ğ°Ğ½Ğ´Ñ–Ñ - ğŸ‡©ğŸ‡°Ğ”Ğ°Ğ½Ñ–Ñ

â€¢ ğŸ‡©ğŸ‡ªĞÑ–Ğ¼ĞµÑ‡Ñ‡Ğ¸Ğ½Ğ° - ğŸ‡¦ğŸ‡¹ĞĞ²ÑÑ‚Ñ€Ñ–Ñ
  ğŸ‡©ğŸ‡ªĞÑ–Ğ¼ĞµÑ‡Ñ‡Ğ¸Ğ½Ğ° - ğŸ‡±ğŸ‡®Ğ›Ñ–Ñ…Ñ‚ĞµĞ½ÑˆÑ‚ĞµĞ¹Ğ½

â€¢ ğŸ‡¦ğŸ‡½ĞĞ»Ğ°Ğ½Ğ´ÑÑŒĞºÑ– Ğ¾ÑÑ‚Ñ€Ğ¾Ğ²Ğ¸ - ğŸ‡¸ğŸ‡ªĞ¨Ğ²ĞµÑ†Ñ–Ñ
  ğŸ‡¦ğŸ‡½ĞĞ»Ğ°Ğ½Ğ´ÑÑŒĞºÑ– Ğ¾ÑÑ‚Ñ€Ğ¾Ğ²Ğ¸ - ğŸ‡«ğŸ‡® Ğ¤Ñ–Ğ½Ğ»ÑĞ½Ğ´Ñ–Ñ

â€¢ ğŸ‡ªğŸ‡ªĞ•ÑÑ‚Ğ¾Ğ½Ñ–Ñ - ğŸ‡±ğŸ‡»Ğ›Ğ°Ñ‚Ğ²Ñ–Ñ - ğŸ‡±ğŸ‡¹Ğ›Ğ¸Ñ‚Ğ²Ğ° 

â€¢ ğŸ‡·ğŸ‡´Ğ ÑƒĞ¼ÑƒĞ½Ñ–Ñ - ğŸ‡²ğŸ‡©ĞœĞ¾Ğ»Ğ´Ğ¾Ğ²Ğ° 

â€¢ ğŸ‡¨ğŸ‡¿Ğ§ĞµÑ…Ñ–Ñ - ğŸ‡¸ğŸ‡°Ğ¡Ğ»Ğ¾Ğ²Ğ°Ñ‡Ñ‡Ğ¸Ğ½Ğ°

â€¢ ğŸ‡®ğŸ‡¹Ğ†Ñ‚Ğ°Ğ»Ñ–Ñ - ğŸ‡¸ğŸ‡²Ğ¡Ğ°Ğ½-ĞœĞ°Ñ€Ğ¸Ğ½Ğ¾ 
  ğŸ‡®ğŸ‡¹Ğ†Ñ‚Ğ°Ğ»Ñ–Ñ - ğŸ‡²ğŸ‡¹ĞœĞ°Ğ»ÑŒÑ‚Ğ° 

â€¢ ğŸ‡·ğŸ‡¸Ğ¡ĞµÑ€Ğ±Ñ–Ñ - ğŸ‡§ğŸ‡¦Ğ‘Ğ¾ÑĞ½Ñ–Ñ Ñ– Ğ“ĞµÑ€Ñ†ĞµĞ³Ğ¾Ğ²Ğ¸Ğ½Ğ°

â€¢ ğŸ‡¦ğŸ‡±ĞĞ»Ğ±Ğ°Ğ½Ñ–Ñ - ğŸ‡½ğŸ‡°ĞšĞ¾ÑĞ¾Ğ²Ğ¾

ğŸ‡ºğŸ‡¦ Ğ£ĞºÑ€Ğ°Ñ—Ğ½Ğ° â€“ ğŸ‡µğŸ‡± ĞŸĞ¾Ğ»ÑŒÑ‰Ğ°

â€¢ ğŸ‡¬ğŸ‡·Ğ“Ñ€ĞµÑ†Ñ–Ñ - ğŸ‡¨ğŸ‡¾ĞšÑ–Ğ¿Ñ€"""
}

rules_text = """ğŸ“œ **ĞŸÑ€Ğ°Ğ²Ğ¸Ğ»Ğ°**:

**1. Ğ—Ğ°Ğ³Ğ°Ğ»ÑŒĞ½Ñ– ÑƒĞ¼Ğ¾Ğ²Ğ¸**
1.1 Ğ”Ğ¾ ÑƒÑ‡Ğ°ÑÑ‚Ñ– Ñƒ ÑĞµĞ·Ğ¾Ğ½Ñ– Ğ´Ğ¾Ğ¿ÑƒÑĞºĞ°ÑÑ‚ÑŒÑÑ Ğ±ÑƒĞ´ÑŒ-ÑĞºÑ– ĞºÑ€Ğ°Ñ—Ğ½Ğ¸ ÑĞ²Ñ–Ñ‚Ñƒ, Ğ² Ñ‚Ğ¾Ğ¼Ñƒ Ñ‡Ğ¸ÑĞ»Ñ– Ñ‡Ğ°ÑÑ‚ĞºĞ¾Ğ²Ğ¾ Ğ²Ğ¸Ğ·Ğ½Ğ°Ğ½Ñ– ĞºÑ€Ğ°Ñ—Ğ½Ğ¸, Ğ°Ğ±Ğ¾ Ñ‡Ñ–Ñ‚ĞºĞ¾ Ğ²Ğ¸Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ñ– ÑĞ¸Ğ¼ÑƒĞ»ÑÑ‚Ğ¾Ñ€Ğ¾Ğ¼ Ğ·Ğ°Ğ»ĞµĞ¶Ğ½Ñ– Ñ‚ĞµÑ€Ğ¸Ñ‚Ğ¾Ñ€Ñ–Ñ— ĞºÑ€Ğ°Ñ—Ğ½, Ñ‚Ğ°ĞºĞ¸Ñ… ÑĞº Ğ¡Ğ¨Ğ Ğ°Ğ±Ğ¾ Ğ’ĞµĞ»Ğ¸ĞºĞ¾Ñ— Ğ‘Ñ€Ğ¸Ñ‚Ğ°Ğ½Ñ–Ñ— (ĞĞ¼ĞµÑ€Ğ¸ĞºĞ°Ğ½ÑÑŒĞºĞµ Ğ¡Ğ°Ğ¼Ğ¾Ğ°, Ğ“Ñ–Ğ±Ñ€Ğ°Ğ»Ñ‚Ğ°Ñ€ Ñ– Ñ‚.Ğ¿.)

1.2 Ğ”Ğ»Ñ ÑƒÑ‡Ğ°ÑÑ‚Ñ– Ğ½Ğ° ĞºĞ¾Ğ½ĞºÑƒÑ€ÑÑ– Ğ·Ğ°Ğ±Ğ¾Ñ€Ğ¾Ğ½ÑÑ”Ñ‚ÑŒÑÑ Ñ‚ĞµÑ€Ğ¾Ñ€Ğ¸ÑÑ‚Ğ¸Ñ‡Ğ½Ğ° Ğ´ĞµÑ€Ğ¶Ğ°Ğ²Ğ° Ñ€Ğ¾ÑÑ–Ñ

1.3 ĞĞ±Ğ¼Ñ–Ğ½ Ğ¼Ñ–Ğ¶ ĞºÑ€Ğ°Ñ—Ğ½Ğ°Ğ¼Ğ¸ Ğ½ĞµĞ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ¸Ğ¹ Ñƒ Ñ€Ğ°Ğ·Ñ–, ÑĞºÑ‰Ğ¾ Ğ²Ğ¸ Ğ±ĞµÑ€ĞµÑ‚Ğµ Ğ²Ğ¸ĞºĞ¾Ğ½Ğ°Ğ²Ñ†Ñ Ğ·Ğ° Ğ½Ğ°Ñ†Ñ–Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¸Ğ¼Ğ¸ ĞºĞ¾Ñ€Ñ–Ğ½Ğ½ÑĞ¼Ğ¸
(ĞĞ°Ğ¿Ñ€Ğ¸ĞºĞ»Ğ°Ğ´: Ariana Grande Ğ¼Ğ°Ñ” Ğ½Ğ°Ñ†Ñ–Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ– ĞºĞ¾Ñ€Ñ–Ğ½Ğ½Ñ Ğ· Ğ†Ñ‚Ğ°Ğ»Ñ–Ñ—, Ñ‚Ğ¾Ğ¶ Ñ—Ñ— Ğ½ĞµĞ¼Ğ¾Ğ¶Ğ»Ğ¸Ğ²Ğ¾ Ğ±Ñ€Ğ°Ñ‚Ğ¸ Ğ²Ñ–Ğ´ ĞºÑ€Ğ°Ñ—Ğ½ Ğ¿Ğ¾ Ğ¾Ğ±Ğ¼Ñ–Ğ½Ñƒ: Ğ¡Ğ°Ğ½-ĞœĞ°Ñ€Ğ¸Ğ½Ğ¾ Ñ‡Ğ¸ ĞœĞ°Ğ»ÑŒÑ‚Ğ°)

**2. Ğ’Ğ¸Ğ¼Ğ¾Ğ³Ğ¸ Ğ´Ğ¾ Ğ²Ğ¸ĞºĞ¾Ğ½Ğ°Ğ²Ñ†Ñ Ñ– Ğ¿Ñ–ÑĞ½Ñ–**
2.1 Ğ’Ğ¸ĞºĞ¾Ğ½Ğ°Ğ²ĞµÑ†ÑŒ, Ğ¾Ğ±Ñ€Ğ°Ğ½Ğ¾Ñ— Ğ²Ğ°Ğ¼Ğ¸ ĞºÑ€Ğ°Ñ—Ğ½Ğ¸, Ğ¿Ğ¾Ğ²Ğ¸Ğ½ĞµĞ½ Ğ¼Ğ°Ñ‚Ğ¸ Ğ³Ñ€Ğ¾Ğ¼Ğ°Ğ´ÑĞ½ÑÑ‚Ğ²Ğ¾, ĞŸĞœĞ– (ĞŸĞ¾ÑÑ‚Ñ–Ğ¹Ğ½Ğµ Ğ¼Ñ–ÑÑ†Ğµ Ğ¿Ñ€Ğ¾Ğ¶Ğ¸Ğ²Ğ°Ğ½Ğ½Ñ) Ğ°Ğ±Ğ¾ Ğ¶ Ğ¼Ğ°Ñ‚Ğ¸ Ğ½Ğ°Ñ†Ñ–Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ– ĞºĞ¾Ñ€Ñ–Ğ½Ğ½Ñ Ğ·Ğ²Ñ–Ğ´Ñ‚Ğ¸

2.2 Ğ’Ğ¸ĞºĞ¾Ğ½Ğ°Ğ²ĞµÑ†ÑŒ, Ğ½Ğ° Ğ¿ĞµÑ€Ñ–Ğ¾Ğ´ Ğ¿Ğ¾Ğ´Ğ°Ñ‡Ñ– Ğ¿Ñ–ÑĞµĞ½ÑŒ, Ğ¼Ğ°Ñ” Ğ±ÑƒÑ‚Ğ¸ Ğ¶Ğ¸Ğ²Ğ¸Ğ¼. Ğ¯ĞºÑ‰Ğ¾ Ñ†Ğµ Ğ³ÑƒÑ€Ñ‚ â€” Ñ‚Ğ¾ Ñƒ Ğ¿Ğ¾Ğ²Ğ½Ğ¾Ğ¼Ñƒ ÑĞºĞ»Ğ°Ğ´Ñ–

2.3 Ğ¯ĞºÑ‰Ğ¾ Ğ³ÑƒÑ€Ñ‚, Ğ½Ğ° Ğ¼Ğ¾Ğ¼ĞµĞ½Ñ‚ Ğ¿Ğ¾Ğ´Ğ°Ñ‡Ñ– Ğ¿Ñ–ÑĞ½Ñ–, Ñƒ ÑÑ‚Ğ°Ğ½Ñ– Ğ·Ğ°Ğ¼Ğ¾Ñ€Ğ¾Ğ·ĞºĞ¸ (Ğ³Ñ€ÑƒĞ¿Ğ° Ğ½Ğµ Ñ€Ğ¾Ğ·Ğ¿Ğ°Ğ»Ğ°ÑÑ, Ğ°Ğ»Ğµ Ğ½Ğµ Ğ²ĞµĞ´Ğµ Ğ¿Ñ€Ğ¾Ñ„ĞµÑÑ–Ğ¹Ğ½Ñƒ Ğ´Ñ–ÑĞ»ÑŒĞ½Ñ–ÑÑ‚ÑŒ) â€” Ğ´Ğ¾Ğ·Ğ²Ğ¾Ğ»ĞµĞ½Ğ¾

2.4 ĞŸÑ–ÑĞ½Ñ Ğ¼Ğ°Ñ” Ğ±ÑƒÑ‚Ğ¸ Ğ°Ğ²Ñ‚Ğ¾Ñ€ÑÑŒĞºĞ¾Ñ, Ğ·Ğ°Ğ±Ğ¾Ñ€Ğ¾Ğ½ÑÑÑ‚ÑŒÑÑ Ğ½Ğ°Ñ€Ğ¾Ğ´Ğ½Ñ– Ğ¿Ñ–ÑĞ½Ñ–, ĞºĞ°Ğ²ĞµÑ€Ğ¸, Ñ€ĞµĞ¼Ñ–ĞºÑĞ¸ Ñ– Ñ‚.Ğ¿.

2.5 ĞŸÑ–ÑĞ½Ñ–, Ğ´Ğµ Ğ±Ñ–Ğ»ÑŒÑˆĞµ 80% Ñ‚ĞµĞºÑÑ‚Ñƒ Ğ½Ğ°Ğ¿Ğ¸ÑĞ°Ğ½Ğ¾ Ñ€Ğ¾ÑÑ–Ğ¹ÑÑŒĞºĞ¾Ñ Ğ¼Ğ¾Ğ²Ğ¾Ñ, Ğ·Ğ°Ğ±Ğ¾Ñ€Ğ¾Ğ½ĞµĞ½Ñ– âŒ

2.6 ĞŸĞµÑ€ĞµĞ³Ğ»ÑĞ´Ğ¸ Ğ½Ğ° Ğ¿Ğ»Ğ°Ñ‚Ñ„Ğ¾Ñ€Ğ¼Ñ– YouTube Ğ½Ğµ Ğ¼Ğ°ÑÑ‚ÑŒ Ğ¿ĞµÑ€ĞµĞ²Ğ¸Ñ‰ÑƒĞ²Ğ°Ñ‚Ğ¸ 70 Ğ¼Ğ»Ğ½

2.7 ĞŸÑ–ÑĞ½Ñ Ğ½Ğµ Ğ¼Ğ°Ñ” Ğ¼Ñ–ÑÑ‚Ğ¸Ñ‚Ğ¸ Ğ¿Ğ¾Ğ»Ñ–Ñ‚Ğ¸Ñ‡Ğ½Ğ¾Ğ³Ğ¾ Ğ¿Ñ–Ğ´Ñ‚ĞµĞºÑÑ‚Ñƒ

2.8 ĞŸÑ–ÑĞ½Ñ Ğ¼Ğ°Ñ” Ğ±ÑƒÑ‚Ğ¸ Ğ²Ğ¸Ğ¿ÑƒÑ‰ĞµĞ½Ğ¾Ñ Ğ¿Ñ–ÑĞ»Ñ 1 ÑÑ–Ñ‡Ğ½Ñ 2015 Ñ€Ğ¾ĞºÑƒ

2.9 Ğ›Ñ–Ñ†ĞµĞ½Ğ·Ñ–Ñ— Ğ½Ğµ Ğ¾Ğ±Ğ¼ĞµĞ¶ĞµĞ½Ñ– â€” Ğ¿Ñ€Ğ¸Ğ¹Ğ¼Ğ°ÑÑ‚ÑŒÑÑ Ğ¿Ñ–ÑĞ½Ñ– Ğ· Ğ±ÑƒĞ´ÑŒ-ÑĞºĞ¸Ğ¼Ğ¸ Ğ»Ñ–Ñ†ĞµĞ½Ğ·Ñ–ÑĞ¼Ğ¸

2.10 Ğ—Ğ°Ğ±Ğ¾Ñ€Ğ¾Ğ½ÑÑÑ‚ÑŒÑÑ Ğ¿Ñ–ÑĞ½Ñ– Ğ·:
- Ğ„Ğ²Ñ€Ğ¾Ğ±Ğ°Ñ‡ĞµĞ½Ğ½Ñ
- ĞĞ°Ñ†Ğ²Ñ–Ğ´Ğ±Ğ¾Ñ€Ñ–Ğ² Ğ½Ğ° Ğ„Ğ²Ñ€Ğ¾Ğ±Ğ°Ñ‡ĞµĞ½Ğ½Ñ (Ğ²Ñ–Ğ´ĞºÑ€Ğ¸Ñ‚Ğ¸Ñ… Ñ‡Ğ¸ Ğ·Ğ°ĞºÑ€Ğ¸Ñ‚Ğ¸Ñ…)
- Ğ”Ğ¸Ñ‚ÑÑ‡Ğ¾Ğ³Ğ¾ Ğ„Ğ²Ñ€Ğ¾Ğ±Ğ°Ñ‡ĞµĞ½Ğ½Ñ
- ĞĞ¼ĞµÑ€Ğ¸ĞºĞ°Ğ½ÑÑŒĞºĞ¾Ğ³Ğ¾ Ğ°Ğ½Ğ°Ğ»Ğ¾Ğ³Ñƒ
- Ğ¤ĞµÑÑ‚Ğ¸Ğ²Ğ°Ğ»Ñ–Ğ², ÑĞºÑ– Ğ¿Ñ€ÑĞ¼Ğ¾ Ğ°Ğ±Ğ¾ Ğ¾Ğ¿Ğ¾ÑĞµÑ€ĞµĞ´ĞºĞ¾Ğ²Ğ°Ğ½Ğ¾ ÑÑ‚Ğ¾ÑÑƒÑÑ‚ÑŒÑÑ Ğ„Ğ²Ñ€Ğ¾Ğ±Ğ°Ñ‡ĞµĞ½Ğ½Ñ

**3. Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ° Ğ°Ğ²Ñ‚Ğ¾Ñ„Ñ–Ğ½Ğ°Ğ»Ñƒ**
3.1 ĞšÑƒÑ€Ğ°Ñ‚Ğ¾Ñ€, ÑĞºĞ¸Ğ¹ Ğ¾Ğ´ĞµÑ€Ğ¶Ğ°Ğ² Ğ¿ĞµÑ€ĞµĞ¼Ğ¾Ğ³Ñƒ Ñƒ ÑĞµĞ·Ğ¾Ğ½Ñ–, Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡Ğ½Ğ¾ ÑÑ‚Ğ°Ñ” Ñ„Ñ–Ğ½Ğ°Ğ»Ñ–ÑÑ‚Ğ¾Ğ¼ Ğ½Ğ°ÑÑ‚ÑƒĞ¿Ğ½Ğ¾Ğ³Ğ¾ ÑĞµĞ·Ğ¾Ğ½Ñƒ

3.2 ĞšÑƒÑ€Ğ°Ñ‚Ğ¾Ñ€ ĞºÑ€Ğ°Ñ—Ğ½Ğ¸, ÑĞºĞ° Ğ·Ğ°Ğ¹Ğ½ÑĞ»Ğ° Ğ´Ñ€ÑƒĞ³Ğµ Ğ¼Ñ–ÑÑ†Ğµ, Ğ¼Ğ¾Ğ¶Ğµ Ğ·Ğ¼Ñ–Ğ½Ğ¸Ñ‚Ğ¸ ĞºÑ€Ğ°Ñ—Ğ½Ñƒ Ğ½Ğ° Ğ±ÑƒĞ´ÑŒ-ÑĞºÑƒ Ñ–Ğ½ÑˆÑƒ, Ğ·Ğ°Ğ»Ğ¸ÑˆĞ°ÑÑ‡Ğ¸ ÑĞ²Ğ¾Ñ” Ğ¿Ñ€Ğ°Ğ²Ğ¾ Ğ°Ğ²Ñ‚Ğ¾Ñ„Ñ–Ğ½Ğ°Ğ»Ñ–ÑÑ‚Ğ°

3.3 Ğ£ Ñ€Ğ°Ğ·Ñ– Ğ²Ñ–Ğ´Ğ¼Ğ¾Ğ²Ğ¸ Ğ´Ñ€ÑƒĞ³Ğ¾Ğ³Ğ¾ Ğ¼Ñ–ÑÑ†Ñ Ğ±ÑƒÑ‚Ğ¸ Ğ°Ğ²Ñ‚Ğ¾Ñ„Ñ–Ğ½Ğ°Ğ»Ñ–ÑÑ‚Ğ¾Ğ¼ â€” Ñ†Ğµ Ğ¿Ñ€Ğ°Ğ²Ğ¾ Ğ¿ĞµÑ€ĞµÑ…Ğ¾Ğ´Ğ¸Ñ‚ÑŒ Ğ´Ğ¾ Ğ½Ğ°ÑÑ‚ÑƒĞ¿Ğ½Ğ¾Ğ³Ğ¾ Ğ¼Ñ–ÑÑ†Ñ

3.4 Ğ¯ĞºÑ‰Ğ¾ ÑĞµĞ·Ğ¾Ğ½ Ğ±ÑƒĞ² Ğ»Ğ¸ÑˆĞµ Ğ· Ğ¾Ğ´Ğ½Ğ¸Ğ¼ Ñ„Ñ–Ğ½Ğ°Ğ»Ğ¾Ğ¼ (Ğ· ÑĞ¸ÑÑ‚ĞµĞ¼Ğ¾Ñ PQR Ğ°Ğ±Ğ¾ Ğ±ĞµĞ·), Ñ‚Ğ¾:
- ĞŸĞµÑ€ÑˆĞµ Ñ– Ğ´Ñ€ÑƒĞ³Ğµ Ğ¼Ñ–ÑÑ†Ğµ, Ğ° Ñ‚Ğ°ĞºĞ¾Ğ¶ Ğ°Ğ²Ñ‚Ğ¾Ñ„Ñ–Ğ½Ğ°Ğ»Ñ–ÑÑ‚Ğ¸ â€” Ğ·Ğ°Ğ»Ğ¸ÑˆĞ°ÑÑ‚ÑŒ Ñ†Ğµ Ğ¿Ñ€Ğ°Ğ²Ğ¾
- Ğ’ÑÑ– Ğ¼Ğ°ÑÑ‚ÑŒ Ğ¿Ñ€Ğ°Ğ²Ğ¾ Ğ·Ğ¼Ñ–Ğ½Ğ¸Ñ‚Ğ¸ ĞºÑ€Ğ°Ñ—Ğ½Ñƒ, Ğ¾ĞºÑ€Ñ–Ğ¼ Ğ¿ĞµÑ€ĞµĞ¼Ğ¾Ğ¶Ñ†Ñ

3.5 Ğ”ĞµĞ»ĞµĞ³Ğ°Ñ†Ñ–Ñ— Ñƒ ÑĞµĞ·Ğ¾Ğ½Ñ– Ğ´Ğ¾Ğ·Ğ²Ğ¾Ğ»ĞµĞ½Ñ–, Ğ°Ğ»Ğµ Ğ½Ğµ Ğ±Ñ–Ğ»ÑŒÑˆĞµ 2 ÑƒÑ‡Ğ°ÑĞ½Ğ¸ĞºÑ–Ğ² Ñƒ Ğ´ĞµĞ»ĞµĞ³Ğ°Ñ†Ñ–Ñ—"""



# Menus
def main_menu():
    return InlineKeyboardMarkup([
        [InlineKeyboardButton("â–¶ï¸ Ğ›Ğ¸ÑÑ‚ Ğ¾Ğ±Ğ¼Ñ–Ğ½Ñƒ", callback_data="menu_exchange")],
        [InlineKeyboardButton("ğŸ“œ ĞŸÑ€Ğ°Ğ²Ğ¸Ğ»Ğ°", callback_data="rules")]
    ])

def exchange_menu():
    return InlineKeyboardMarkup([
        [InlineKeyboardButton("ğŸŒ ĞŸÑ–Ğ²Ğ½Ñ–Ñ‡Ğ½Ğ° ĞĞ¼ĞµÑ€Ğ¸ĞºĞ°", callback_data="region_north")],
        [InlineKeyboardButton("ğŸŒ ĞŸÑ–Ğ²Ğ´ĞµĞ½Ğ½Ğ° ĞĞ¼ĞµÑ€Ğ¸ĞºĞ°", callback_data="region_south")],
        [InlineKeyboardButton("ğŸŒ ĞĞ·Ñ–Ñ Ñ‚Ğ° ĞĞºĞµĞ°Ğ½Ñ–Ñ", callback_data="region_asia")],
        [InlineKeyboardButton("ğŸŒ Ğ„Ğ²Ñ€Ğ¾Ğ¿Ğ°", callback_data="region_europe")],
        [InlineKeyboardButton("ğŸ”™ ĞĞ°Ğ·Ğ°Ğ´", callback_data="back")]
    ])

# Text Commands
async def cmd_north(update, context):
    await update.message.reply_text(region_texts["north"])

async def cmd_south(update, context):
    await update.message.reply_text(region_texts["south"])

async def cmd_europe(update, context):
    await update.message.reply_text(region_texts["europe"])

async def cmd_asia(update, context):
    await update.message.reply_text(region_texts["asia"])

async def cmd_rules(update, context):
    await update.message.reply_text(rules_text)

async def cmd_commands(update: Update, context: ContextTypes.DEFAULT_TYPE):
    text = (
        "ğŸ“‹ *Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ¸Ñ… ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´:*\n\n"
        "ğŸ”¹ /north â€” ĞŸĞ¾ĞºĞ°Ğ·Ğ°Ñ‚Ğ¸ Ğ¾Ğ±Ğ¼Ñ–Ğ½Ğ¸ Ğ´Ğ»Ñ ĞŸÑ–Ğ²Ğ½Ñ–Ñ‡Ğ½Ğ¾Ñ— ĞĞ¼ĞµÑ€Ğ¸ĞºĞ¸\n"
        "ğŸ”¹ /south â€” ĞŸĞ¾ĞºĞ°Ğ·Ğ°Ñ‚Ğ¸ Ğ¾Ğ±Ğ¼Ñ–Ğ½Ğ¸ Ğ´Ğ»Ñ ĞŸÑ–Ğ²Ğ´ĞµĞ½Ğ½Ğ¾Ñ— ĞĞ¼ĞµÑ€Ğ¸ĞºĞ¸\n"
        "ğŸ”¹ /europe â€” ĞŸĞ¾ĞºĞ°Ğ·Ğ°Ñ‚Ğ¸ Ğ¾Ğ±Ğ¼Ñ–Ğ½Ğ¸ Ğ´Ğ»Ñ Ğ„Ğ²Ñ€Ğ¾Ğ¿Ğ¸\n"
        "ğŸ”¹ /asia â€” ĞŸĞ¾ĞºĞ°Ğ·Ğ°Ñ‚Ğ¸ Ğ¾Ğ±Ğ¼Ñ–Ğ½Ğ¸ Ğ´Ğ»Ñ ĞĞ·Ñ–Ñ— Ñ‚Ğ° ĞĞºĞµĞ°Ğ½Ñ–Ñ—\n"
        "ğŸ”¹ /rules â€” ĞŸĞ¾ĞºĞ°Ğ·Ğ°Ñ‚Ğ¸ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ° ĞºĞ¾Ğ½ĞºÑƒÑ€ÑÑƒ\n"
        "ğŸ”¹ /commands â€” ĞŸĞ¾ĞºĞ°Ğ·Ğ°Ñ‚Ğ¸ Ñ†ĞµĞ¹ ÑĞ¿Ğ¸ÑĞ¾Ğº ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´\n"
    )
    await update.message.reply_markdown(text)

# Start
async def start(update: Update, context: ContextTypes.DEFAULT_TYPE):
    keyboard = [
        ["Ğ›Ğ¸ÑÑ‚ Ğ¾Ğ±Ğ¼Ñ–Ğ½Ñƒ"],
        ["ĞŸÑ€Ğ°Ğ²Ğ¸Ğ»Ğ°"],
        ["ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ¸"]  # â† new button
    ]
    reply_markup = ReplyKeyboardMarkup(keyboard, resize_keyboard=True)
    await update.message.reply_text("ĞŸÑ€Ğ¸Ğ²Ñ–Ñ‚! ĞĞ±ĞµÑ€Ğ¸ Ğ¾Ğ¿Ñ†Ñ–Ñ:", reply_markup=reply_markup)

# Button Handler (inline)
async def button_handler(update: Update, context: ContextTypes.DEFAULT_TYPE):
    query = update.callback_query
    await query.answer()
    match query.data:
        case "menu_exchange":
            await query.edit_message_text("ĞĞ±ĞµÑ€Ñ–Ñ‚ÑŒ Ñ€ĞµĞ³Ñ–Ğ¾Ğ½:", reply_markup=exchange_menu())
        case "region_north":
            await query.edit_message_text(region_texts["north"], reply_markup=exchange_menu())
        case "region_south":
            await query.edit_message_text(region_texts["south"], reply_markup=exchange_menu())
        case "region_asia":
            await query.edit_message_text(region_texts["asia"], reply_markup=exchange_menu())
        case "region_europe":
            await query.edit_message_text(region_texts["europe"], reply_markup=exchange_menu())
        case "rules":
            await query.edit_message_text(rules_text, reply_markup=main_menu())
        case "back":
            await query.edit_message_text("ĞŸĞ¾Ğ²ĞµÑ€Ğ½ÑƒĞ»Ğ¸ÑÑŒ Ğ² Ğ³Ğ¾Ğ»Ğ¾Ğ²Ğ½Ğµ Ğ¼ĞµĞ½Ñ:", reply_markup=main_menu())

# ReplyKeyboard text handler
async def text_listener(update: Update, context: ContextTypes.DEFAULT_TYPE):
    text = update.message.text.lower()
    if text == "ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ¸":
        await cmd_commands(update, context)
    elif text == "Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ°":
        await cmd_rules(update, context)
    elif text == "Ğ»Ğ¸ÑÑ‚ Ğ¾Ğ±Ğ¼Ñ–Ğ½Ñƒ":
        await update.message.reply_text("ĞĞ±ĞµÑ€Ñ–Ñ‚ÑŒ Ñ€ĞµĞ³Ñ–Ğ¾Ğ½:", reply_markup=exchange_menu())
    else:
        await update.message.reply_text("ĞĞµĞ²Ñ–Ğ´Ğ¾Ğ¼Ğ° ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ°. Ğ¡Ğ¿Ñ€Ğ¾Ğ±ÑƒĞ¹Ñ‚Ğµ Ñ‰Ğµ Ñ€Ğ°Ğ·.")

# Run
if __name__ == '__main__':
    app = Application.builder().token(TOKEN).build()
    app.add_handler(CommandHandler("start", start))
    app.add_handler(CommandHandler("north", cmd_north))
    app.add_handler(CommandHandler("south", cmd_south))
    app.add_handler(CommandHandler("europe", cmd_europe))
    app.add_handler(CommandHandler("asia", cmd_asia))
    app.add_handler(CommandHandler("rules", cmd_rules))
    app.add_handler(CommandHandler("commands", cmd_commands))
    app.add_handler(CallbackQueryHandler(button_handler))
    app.add_handler(MessageHandler(filters.TEXT & ~filters.COMMAND, text_listener))

    print("âœ… Bot is running...")
    app.run_polling()